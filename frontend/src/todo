# ------------------------------------------------
# asap
# ------------------------------------------------

Table:
  - Datum anzeigen ohne Uhrzeit und Millisekunden -> Format angeben in Spezifikation ?

Adhoc + ext. Ressource erweitern um Zuordnung zu Gruppen (wg. Berechtigungen !)

CRUD fetch lookup for data in table view

mit Joe reden: 
  - composite keys !
  - last_changed_by !
  - analog zu lookup auch bei application suchen nach <id> oder <name> oder <alias> z.B. http://localhost:3001/api/repo/application/adhoc
    ... oder über ein Filter ?! (z.B. ?filter:alias=adhoc)
    - dann wieder umstellen in "Apps.js"
  - init_repo: View für /api/repo/resources
    - fehlt noch: insert into plainbi_lookup (id, name, sql_query , datasource_id ) values (-106, 'role', 'select name as d, id as r from plainbi_role', 0);
  - init_repo: Adhoc und ext. Ress. Applikation
  - Excel
    - Sheetname: "daten"
      - Headerzeile: Arial, 9, Border unten, Auto filter, Bold, Left (align)
      - Datensätze: Arial, 9
    - zusätzliches Sheet "info"
          Erstellt am: <YYYY-MM-DD HH24:MI:SS>
          Quelle: DWH - Adhoc <nr>
  - Security / Auth-API / JWT Token
  - swagger-UI
  - Fehlermeldungen als JSON zurückgeben (timestamp, error(s), message(s), detail(s)) (https://www.baeldung.com/rest-api-error-handling-best-practices)
    - get error from API and show it (e.g. wrong datatype, primary key already exists, etc.)

dwh.config.tv_veranstaltungsreihe und ...tv_veranstaltung testen !
dwh.config.tv_mafo_kennzahlen_veranstaltung und ...tv_mafo_kennzahlen_veranstaltung_land testen !
  -> mit Lookup auf Veranstaltung und Land/Ländergruppe(Inland, Ausland, Gesamt)
  -> weitere Veranstaltung händisch pflegen ?! stage.man_veranstaltung

act.development.js:209 Warning: Each child in a list should have a unique "key" prop.

CRUD field validation before save (especially required fields) !

test all field types: lookup, textarea, textarea_sql, switch, password, email

add description to lookup page (in "settings")

homepage -> additional tiles (e.g. list of fairs !)

compound primary keys !

add security in python backend
  - use JWT (https://flask-jwt-extended.readthedocs.io/en/stable/)
  - combine with login.js frontend 
  - if possible get JWT in session -> test this with Cube.js :)

bundle and run first version on DEV server
  - use flask as webserver ? how to replace "proxy" setting ?
  - make customer CI settings (logo, title, etc.)

Adhoc + ext. Ressource doch in /settings schieben ?

alle API Aufrufe kapseln !!

Adhoc: show total count ?


# ------------------------------------------------
# later
# ------------------------------------------------

crud ui textarea components
  - sql: formatter and validator !
  - json:
    - textarea_json (with formatter and validator)
    - https://sujinleeme.github.io/react-json-editor/ + json schema !
  - monaco-editor evtl. switchen auf https://wangchujiang.com/react-monacoeditor/ ?
  - markdown: erweitern um "remark-gfm"

finish dark mode switch
- put it in user profile page or as menu option when clicking on avatar in upper right corner
- make 3 options: yes / no / browser default
- save setting in repository (table: user_preference)

add message/notification overall (see AppRun.js) 
  - catch all errors, especially with API calls

plainbi_datasource -> not used yet in python backend (still in .env file)
  - datasource_id -> use it everywhere ?!

generic CRUD App in "runtime" mode:
  - add pagination
  - add search/filter to table

check width'es on all pages !

Home:
  - make both tables look like separate cards (white background, grey surrounding)

Apps create/edit dialog:
  - "copy to clipboard" not working ?!
  - add rule to "url": no blanks, no special characters
  - if param "id" is missing -> then mode=create, else mode=edit
      mode=create: no "delete" button
      mode=edit: get metadata of app and fill the form
  - "editing of columns" is missing right now
  - redesign the page UI


/apps/adhoc/<nr>
  - Loading Component throws error ?!
  - Table: make pagination dynamic
  - Add sorting and filtering
  - Make height 100% with minimum of 500?

Apps list:
  - add switch from cards to list

Security:
	- integrated Users and Roles
    - Admin: Zugriff auf Settings-Icon + App-Icon in Header, Editierbutton bei Adhocliste in Portal (Route /)
	  - User
  - external Users / Anbindung an AD !
  - SSO
  - API securen mit JWT, ...?

Portal: 
- add search bar

Links:
- Navbar:   https://medium.com/zestgeek/ant-design-navbar-with-responsive-drawer-a8d718e471e0

Backlog:
- bei Applikations-Spezifikation eine Hilfe einbauen (z.B. Infobutton oder Doku), auch eine Verifiziuerng der Spezifikation, ob sie valide ist.
- bei Modal die Höhe/Breite besser ausnutzen, vor allem bei Textarea's (SQL/JSON/...)
- schöne Spaltennamen bei Adhoc's erlauben?
- "Typ" bei externen Ressourcen vorgeben ? (damit Icon dann auch immer passt)
